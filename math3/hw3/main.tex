\documentclass{article}
\usepackage{amsmath, amsthm, amssymb}
\usepackage{tikz}
\usepackage{array}
\usepackage{mathtools}
\usepackage{graphicx}

\begin{document}
\section*{\huge Homework Sheet 3}
\begin{flushright}
   \textbf{Author: Abdullah Oğuz Topçuoğlu}
\end{flushright}

% Exercise 9 (4 Points)
% Let f : R
% 2 → R be a function defined by
% f(x1, x2) := ( x
% 2
% 1
% x2
% x
% 2
% 1+x
% 2
% 2
% , (x1, x2) ̸= (0, 0)
% 0 , (x1, x2) = (0, 0)
% .
% (i) Show that f is continuous at the point (0, 0).
% (ii) Show that f is not totally differentiable at the point (0, 0). Hint: Use 1.7.2 and 1.7.3.
% Exercise 10 (4 Points)
% Let f : R
% 3 → R
% 2 be a function defined by
% f(x1, x2, x3) := 
% x
% 4
% 1
% ln(3 + 2x
% 2
% 2
% )
% x1 sin(x2x3)e
% x1
% 
% .
% (i) Show that f is a C
% 1
% function.
% (ii) Is f totally differentiable? Justify your answer.
% Exercise 11 (4 Points)
% Let f1 : R → R
% 2
% , f2 : R
% 2 → R
% 3
% , f3 : R
% 3 → R be functions defined by
% f1(x) := [x
% 2
% , 1]⊤, f2(y1, y2) := [sin(y1), cos(y2),sin(y1) + cos(y2)]⊤, f3(z1, z2, z3) := e
% z1+z2+z3
% .
% Solve the following two problems using the chain rule (in the form of Theorem 1.7.8):
% (i) Explain why the map f3 ◦ f2 ◦ f1 is totally differentiable.
% (ii) Determine the total derivative of f3 ◦ f2 ◦ f1 at any point x ∈ R.
% Exercise 12 (4 Points)
% Let f : R
% 2 → R be a function defined by
% f(x1, x2) := (x
% 2
% 1 + 2x2) ln(1 + x
% 2
% 2
% )
% (i) Show that f is a C
% 1
% function.
% (ii) Determine the directional derivative of f at any point x = (x1, x2) ∈ R
% 2
% in direction v for
% v = v1, v2, v3, where
% v1 := 
% 0
% 1
% 
% , v2 := 
% − cos(α)
% sin(α)
% 
% , v3 :=
% 1
% √
% e
% 2 + π
% 2
% 
% −e
% π
% 
% for some fixed α ∈ (0, 2π).

\section*{Exercise 9}
We are given the function:
\begin{align*}
   f(x_1, x_2) :=
   \begin{cases}
      \frac{x_1^2 x_2}{x_1^2 + x_2^2}, & (x_1, x_2) \neq (0, 0) \\
      0,                               & (x_1, x_2) = (0, 0)
   \end{cases}
\end{align*}

\subsection*{(i)}
To show that \( f \) is continuous at the point \( (0, 0) \), we need to verify that every sequence \( (x_1^{(n)}, x_2^{(n)}) \) converging to \( (0, 0) \), \(f(x_1^{(n)}, x_2^{(n)})\)
also converges to \( f(0, 0) = (0, 0) \). \\
Fix a sequence \( (x_1^{(n)}, x_2^{(n)}) \) such that \( (x_1^{(n)}, x_2^{(n)}) \rightarrow (0, 0) \). \\
Then, we have: \\
\textbf{If \( (x_1^{(n)}, x_2^{(n)}) \neq (0, 0)\)}
\begin{align*}
   |f(x_1^{(n)}, x_2^{(n)}) - f(0, 0)| &= \left| \frac{(x_1^{(n)})^2 x_2^{(n)}}{(x_1^{(n)})^2 + (x_2^{(n)})^2} - 0 \right| \\
   &= \left| \frac{(x_1^{(n)})^2 x_2^{(n)}}{(x_1^{(n)})^2 + (x_2^{(n)})^2} \right| \\
   &\leq \left| \frac{(x_1^{(n)})^2 x_2^{(n)}}{(x_1^{(n)})^2} \right| \quad \text{(since } (x_1^{(n)})^2 + (x_2^{(n)})^2 \geq (x_1^{(n)})^2 \text{)} \\
   &= |x_2^{(n)}|
\end{align*}
\( |x_2^{(n)}| \to 0 \) since \( (x_1^{(n)}, x_2^{(n)}) \to (0, 0) \). Therefore \( f(x_1^{(n)}, x_2^{(n)}) \to (0, 0) \). \\
\\
\textbf{If \( (x_1^{(n)}, x_2^{(n)}) = (0, 0)\)}
\begin{align*}
   |f(x_1^{(n)}, x_2^{(n)}) - f(0, 0)| &= |0 - 0| = 0
\end{align*}
which also converges to \( 0 \). \\
Thats what we wanted to show.

\subsection*{(ii)}
We need to show that the following limit doesnt converge to zero
\begin{align*}
   \lim_{x \to 0} \frac{f(x) - f(0) - Jf(0)x}{\|x\|}
\end{align*}
The J is the Jacobian matrix. \\
\begin{align*}
   J = \begin{bmatrix}
      \frac{\partial f}{\partial x_1} & \frac{\partial f}{\partial x_2}
   \end{bmatrix}
\end{align*}

Lets compute the partials at (0, 0) \\
\begin{align*}
   \frac{\partial f}{\partial x_1}(0, 0) &= \lim_{h \to 0} \frac{f(h, 0) - f(0, 0)}{h} = \lim_{h \to 0} \frac{0 - 0}{h} = 0 \\
   \frac{\partial f}{\partial x_2}(0, 0) &= \lim_{h \to 0} \frac{f(0, h) - f(0, 0)}{h} = \lim_{h \to 0} \frac{0 - 0}{h} = 0
\end{align*}

Thus, the Jacobian matrix at (0, 0) is:
\begin{align*}
   Jf(0, 0) = \begin{bmatrix}
      0 & 0
   \end{bmatrix}
\end{align*}

Substituting this into our limit we get
\begin{align*}
   \lim_{x \to 0} \frac{f(x) - f(0)}{\|x\|}
\end{align*}

We also know that \( f(0) = 0 \), so we can simplify this to:
\begin{align*}
   \lim_{x \to 0} \frac{f(x)}{\|x\|}
\end{align*}
So it is enough if i can show a vector \(x\) where this limit is not zero. \\
Lets choose \( x = (x_1, x_1) \). Then we have:
\begin{align*}
   \lim_{x_1 \to 0} \frac{f(x_1, x_1)}{\|(x_1, x_1)\|} &= \lim_{x_1 \to 0} \frac{\frac{x_1^2 x_1}{x_1^2 + x_1^2}}{\sqrt{x_1^2 + x_1^2}} \\
   &= \lim_{x_1 \to 0} \frac{\frac{x_1^3}{2x_1^2}}{\sqrt{2} |x_1|} \\
   &= \lim_{x_1 \to 0} \frac{x_1}{2\sqrt{2} |x_1|} \\
   &= \lim_{x_1 \to 0} \frac{1}{2\sqrt{2}} \cdot \frac{x_1}{|x_1|}
\end{align*}
This limit doesnt even exist so it cant be equal to zero. \\
Thats what we wanted to show.

\section*{Exercise 10}
We are given the function:
\begin{align*}
   f(x_1, x_2, x_3) :=
   \begin{bmatrix}
      x_1^4 \ln(3 + 2x_2^2) \\
      x_1 \sin(x_2 x_3) e^{x_1}
   \end{bmatrix}
\end{align*}

\subsection*{(i)}
To show that \(f\) is a \(C^1\) function we need to verify that all partial derivatives of \(f\) exist and are continuous. \\
Lets compute the partial derivatives of each component of \(f\) which corresponds to the entries of Jacobian matrix.
\begin{align*}
   Jf = \begin{bmatrix}
      \frac{\partial f_1}{\partial x_1} & \frac{\partial f_1}{\partial x_2} & \frac{\partial f_1}{\partial x_3} \\
      \\
      \frac{\partial f_2}{\partial x_1} & \frac{\partial f_2}{\partial x_2} & \frac{\partial f_2}{\partial x_3}
   \end{bmatrix}
\end{align*}

Calculating the partial derivatives:
\begin{align*}
   \frac{\partial f_1}{\partial x_1} &= 4x_1^3 \ln(3 + 2x_2^2) \\
   \frac{\partial f_1}{\partial x_2} &= x_1^4 \cdot \frac{4x_2}{3 + 2x_2^2} \\
   \frac{\partial f_1}{\partial x_3} &= 0 \\
   \frac{\partial f_2}{\partial x_1} &= \sin(x_2 x_3) e^{x_1} + x_1 \sin(x_2 x_3) e^{x_1} \\
   \frac{\partial f_2}{\partial x_2} &= x_1 x_3 \cos(x_2 x_3) e^{x_1} \\
   \frac{\partial f_2}{\partial x_3} &= x_1 x_2 \cos(x_2 x_3) e^{x_1}
\end{align*}

All these partial derivatives are polynomials, logarithmic, exponential, sine and cosine functions which are continuous everywhere in \( \mathbb{R}^3 \)
Thus, all partial derivatives of \(f\) exist and are continuous. \\
(we can explicitly use the remark 1.3.13 in lecture notes to prove continuity but thats trivial so i cut it short with one sentence. Can i cut it short like this in the exam?) \\
Thats what we wanted to show.

\subsection*{(ii)}
Yes it is because we know that continuously partially differentiability implies total differentiability. In (i) we showed that \(f\) is continuously partially differentiable function.

\section*{Exercise 11}
We are given the functions:
\begin{align*}
   f_1(x) &:= \begin{bmatrix}
      x^2 \\
      1
   \end{bmatrix}, \quad f_2(y_1, y_2) := \begin{bmatrix}
      \sin(y_1) \\
      \cos(y_2) \\
      \sin(y_1) + \cos(y_2)
   \end{bmatrix}, \quad f_3(z_1, z_2, z_3) := e^{z_1 + z_2 + z_3}
\end{align*}

\subsection*{(i)}
Chain rule says that if \(f\) and \(g\) are totally differentiable then \(g \circ f\) is also totally differentiable. And it is obvious that \(f_1, f_2, f_3\) are totally differentiable since they are polynomials, sine, cosine and exponential functions.
(all the partial derivaties are continous everywhere and as we showed in exercise 10 (ii) that implies total differentiability) \\
This is why \(f_3 \circ f_2 \circ f_1\) is also totally differentiable.

\subsection*{(ii)}
To do that we need to compute the jacobian matrices of \(f_1, f_2, f_3\) first and then apply the chain rule. \\
Calculating the Jacobian matrices:
\begin{align*}
   Jf_1(x) &= \begin{bmatrix}
      2x \\
      0
   \end{bmatrix} \\
   Jf_2(y_1, y_2) &= \begin{bmatrix}
      \cos(y_1) & 0 \\
      0 & -\sin(y_2) \\
      \cos(y_1) & -\sin(y_2)
   \end{bmatrix} \\
   Jf_3(z_1, z_2, z_3) &= \begin{bmatrix}
      e^{z_1 + z_2 + z_3} & e^{z_1 + z_2 + z_3} & e^{z_1 + z_2 + z_3}
   \end{bmatrix}
\end{align*}

Now, applying the chain rule:
\begin{align*}
   J(f_3 \circ f_2 \circ f_1)(x) &= Jf_3(f_2(f_1(x))) \cdot Jf_2(f_1(x)) \cdot Jf_1(x)
\end{align*}

\begin{align*}
   Jf_1(x) &= \begin{bmatrix}
      2x \\
      0
   \end{bmatrix} \\
   Jf_2(f_1(x)) &= Jf_2(x^2, 1) = \begin{bmatrix}
      \cos(x^2) & 0 \\
      0 & -\sin(1) \\
      \cos(x^2) & -\sin(1)
   \end{bmatrix} \\
   f_2(f_1(x)) &= f_2(x^2, 1) = \begin{bmatrix}
      \sin(x^2) \\
      \cos(1) \\
      \sin(x^2) + \cos(1)
   \end{bmatrix} \\
   Jf_3(f_2(f_1(x))) &= Jf_3(\sin(x^2), \cos(1), \sin(x^2) + \cos(1)) \\
   &= \begin{bmatrix}
      e^{\sin(x^2) + \cos(1) + \sin(x^2) + \cos(1)} & e^{\sin(x^2) + \cos(1) + \sin(x^2) + \cos(1)} & e^{\sin(x^2) + \cos(1) + \sin(x^2) + \cos(1)}
   \end{bmatrix} \\
   &= \begin{bmatrix}
      e^{2\sin(x^2) + 2\cos(1)} & e^{2\sin(x^2) + 2\cos(1)} & e^{2\sin(x^2) + 2\cos(1)}
   \end{bmatrix} \\
   &= e^{2\sin(x^2) + 2\cos(1)} \begin{bmatrix}
      1 & 1 & 1
   \end{bmatrix}
\end{align*}

Now if we do the matrix multiplications we get
\begin{align*}
   J(f_3 \circ f_2 \circ f_1)(x) &= e^{2\sin(x^2) + 2\cos(1)} \begin{bmatrix}
      1 & 1 & 1
   \end{bmatrix} \cdot \begin{bmatrix}
      \cos(x^2) & 0 \\
      0 & -\sin(1) \\
      \cos(x^2) & -\sin(1)
   \end{bmatrix} \cdot \begin{bmatrix}
      2x \\
      0
   \end{bmatrix} \\
   &= e^{2\sin(x^2) + 2\cos(1)} \begin{bmatrix}
      1 & 1 & 1
   \end{bmatrix} \cdot \begin{bmatrix}
      2x \cos(x^2) \\
      0 \\
      2x \cos(x^2)
   \end{bmatrix} \\
   &= e^{2\sin(x^2) + 2\cos(1)} \begin{bmatrix}
      4x \cos(x^2)
   \end{bmatrix} \\
   &= 4x \cos(x^2) e^{2\sin(x^2) + 2\cos(1)}
\end{align*}

Thats what we wanted to calculate

\end{document}